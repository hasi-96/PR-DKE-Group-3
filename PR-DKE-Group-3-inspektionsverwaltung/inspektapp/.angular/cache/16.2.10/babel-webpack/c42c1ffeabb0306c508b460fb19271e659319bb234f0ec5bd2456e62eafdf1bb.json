{"ast":null,"code":"import _asyncToGenerator from \"/Users/jakob/Documents/GitHub/PR-DKE-Group-3/PR-DKE-Group-3-inspektionsverwaltung/inspektapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport Dexie from 'dexie';\nimport * as i0 from \"@angular/core\";\nexport class InspektionenDbService extends Dexie {\n  constructor() {\n    super('InspektionenDB');\n    this.version(1).stores({\n      inspektionen: '++inspektionsID, massnahmeID, jahr, kosten, anmerkung'\n    });\n    this.inspektionen = this.table('inspektionen');\n  }\n  addInspektion(inspektion) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      return _this.inspektionen.add(inspektion);\n    })();\n  }\n  getInspektionen() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      return _this2.inspektionen.toArray();\n    })();\n  }\n  deleteInspektion(inspektionsID) {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      return _this3.inspektionen.delete(inspektionsID);\n    })();\n  }\n  clearAllData() {\n    var _this4 = this;\n    return _asyncToGenerator(function* () {\n      const tables = _this4.tables;\n      return Promise.all(tables.map(table => table.clear()));\n    })();\n  }\n  static #_ = this.ɵfac = function InspektionenDbService_Factory(t) {\n    return new (t || InspektionenDbService)();\n  };\n  static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: InspektionenDbService,\n    factory: InspektionenDbService.ɵfac,\n    providedIn: 'root'\n  });\n}","map":{"version":3,"names":["Dexie","InspektionenDbService","constructor","version","stores","inspektionen","table","addInspektion","inspektion","_this","_asyncToGenerator","add","getInspektionen","_this2","toArray","deleteInspektion","inspektionsID","_this3","delete","clearAllData","_this4","tables","Promise","all","map","clear","_","_2","factory","ɵfac","providedIn"],"sources":["/Users/jakob/Documents/GitHub/PR-DKE-Group-3/PR-DKE-Group-3-inspektionsverwaltung/inspektapp/src/app/db/inspektionDBService.ts"],"sourcesContent":["import {Injectable} from '@angular/core';\nimport Dexie from 'dexie';\nimport {Inspektion} from \"../inspektionen\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class InspektionenDbService extends Dexie {\n  public inspektionen: Dexie.Table<Inspektion, number>;\n\n\n  constructor() {\n    super('InspektionenDB');\n    this.version(1).stores({\n      inspektionen: '++inspektionsID, massnahmeID, jahr, kosten, anmerkung'\n    });\n    this.inspektionen = this.table('inspektionen');\n  }\n\n  async addInspektion(inspektion: Inspektion): Promise<number> {\n      return this.inspektionen.add(inspektion);\n  }\n\n  async getInspektionen(): Promise<Inspektion[]> {\n    return this.inspektionen.toArray();\n  }\n\n  async deleteInspektion(inspektionsID: number): Promise<void> {\n    return this.inspektionen.delete(inspektionsID);\n  }\n    async clearAllData() {\n        const tables = this.tables;\n        return Promise.all(tables.map(table => table.clear()));\n    }\n\n}\n"],"mappings":";AACA,OAAOA,KAAK,MAAM,OAAO;;AAMzB,OAAM,MAAOC,qBAAsB,SAAQD,KAAK;EAI9CE,YAAA;IACE,KAAK,CAAC,gBAAgB,CAAC;IACvB,IAAI,CAACC,OAAO,CAAC,CAAC,CAAC,CAACC,MAAM,CAAC;MACrBC,YAAY,EAAE;KACf,CAAC;IACF,IAAI,CAACA,YAAY,GAAG,IAAI,CAACC,KAAK,CAAC,cAAc,CAAC;EAChD;EAEMC,aAAaA,CAACC,UAAsB;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA;MACtC,OAAOD,KAAI,CAACJ,YAAY,CAACM,GAAG,CAACH,UAAU,CAAC;IAAC;EAC7C;EAEMI,eAAeA,CAAA;IAAA,IAAAC,MAAA;IAAA,OAAAH,iBAAA;MACnB,OAAOG,MAAI,CAACR,YAAY,CAACS,OAAO,EAAE;IAAC;EACrC;EAEMC,gBAAgBA,CAACC,aAAqB;IAAA,IAAAC,MAAA;IAAA,OAAAP,iBAAA;MAC1C,OAAOO,MAAI,CAACZ,YAAY,CAACa,MAAM,CAACF,aAAa,CAAC;IAAC;EACjD;EACQG,YAAYA,CAAA;IAAA,IAAAC,MAAA;IAAA,OAAAV,iBAAA;MACd,MAAMW,MAAM,GAAGD,MAAI,CAACC,MAAM;MAC1B,OAAOC,OAAO,CAACC,GAAG,CAACF,MAAM,CAACG,GAAG,CAAClB,KAAK,IAAIA,KAAK,CAACmB,KAAK,EAAE,CAAC,CAAC;IAAC;EAC3D;EAAC,QAAAC,CAAA,G;qBA1BQzB,qBAAqB;EAAA;EAAA,QAAA0B,EAAA,G;WAArB1B,qBAAqB;IAAA2B,OAAA,EAArB3B,qBAAqB,CAAA4B,IAAA;IAAAC,UAAA,EAFpB;EAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}